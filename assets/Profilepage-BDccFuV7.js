import{j as e,B as u,f as r,r as i,X as k,d as w,Y as U,b as g,Z as E,D as S,a as p,M,_ as C,E as F,$ as L,a0 as O}from"./index-CSfyJHF2.js";import{c as P,a as f,u as A,o as R}from"./yup-ByG4qsTp.js";const B=({setOpenModal:l})=>e.jsx(e.Fragment,{children:e.jsx(u,{onClick:l,className:"absolute right-5 md:right-10 w-[38px] h-[38px] rounded-full bg-[#fff4df] flex justify-center items-center",children:e.jsx("svg",{className:"w-[18px] h-[18px]",children:e.jsx("use",{href:r+"#icon-edit-2"})})})}),$=()=>{const[l,x]=i.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(u,{onClick:()=>x(!0),className:"mt-5 px-[28px] py-[12px] rounded-[30px] bg-[#fff4df] font-bold text-[14px] leading-[129%] text-orange-main",children:"LOG OUT"}),e.jsx(k,{open:l,onClose:()=>x(!1)})]})},V=({data:l,setIdForRemove:x})=>{var s;return e.jsxs("div",{className:"relative w-full flex gap-[14px] xl:gap-[25px] items-center border border-[rgba(38, 38, 38, 0.1)] rounded-[20px] py-4 md:py-[22px] px-4 xl:p-5",children:[e.jsx("div",{className:"w-[66px] md:w-[75px] xl:w-[90px] h-[66px] md:h-[75px] xl:h-[90px] rounded-full bg-white overflow-hidden",children:e.jsx("img",{src:l.imgURL,alt:l.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"pr-5",children:[e.jsx("h3",{className:"mb-2 font-bold text-[14px] leading-[129%] text-[#2b2b2a]",children:l.title.length>20?`${l.title.slice(0,19)}...`:l.title}),e.jsxs("ul",{className:"flex flex-wrap gap-[10px] xl:gap-[27px] text-[12px] leading-[117%] tracking-[-0.02em]",children:[e.jsxs("li",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-[10px] leading-[140%] text-opacity-black",children:"Name"}),l.name]}),e.jsxs("li",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-[10px] leading-[140%] text-opacity-black",children:"Birthday"}),((s=l.birthday)==null?void 0:s.split("-").reverse().join("."))||"Unknown"]}),e.jsxs("li",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-[10px] leading-[140%] text-opacity-black",children:"Sex"}),l.sex[0].toUpperCase()+l.sex.slice(1)]}),e.jsxs("li",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-[10px] leading-[140%] text-opacity-black",children:"Species"}),l.species[0].toUpperCase()+l.species.slice(1)]})]})]}),e.jsx("button",{onClick:()=>x(l._id),className:"absolute right-[12px] xl:right-[20px] top-[12px] xl:top-5 rounded-full bg-[#fff4df] w-[30px] md:w-[32px] xl:w-[38px] h-[30px] md:h-[32px] xl:h-[38px] flex justify-center items-center",children:e.jsx("svg",{className:"w-[16px] md:w-[18px] h-[16px] md:h-[18px]",children:e.jsx("use",{href:r+"#icon-trash-2"})})})]})},I=()=>{const l=w(U),x=g(),[s,d]=i.useState(null);return i.useEffect(()=>{s&&(x(E(s)),d(null))},[x,s]),l.length===0?null:e.jsx("ul",{className:"flex flex-wrap gap-[14px]",children:l.map(t=>e.jsx("li",{className:"w-full md:w-[305px] xl:w-full",children:e.jsx(V,{data:t,setIdForRemove:d})},t._id))})},_=()=>e.jsxs("div",{className:"mb-5 flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-[16px] md:text-[18px] md:leading-[133%] text-[#2b2b2a]",children:"My pets"}),e.jsxs(S,{to:"/add-pet",className:"px-4 md:px-5 py-[10px] rounded-[30px] bg-orange-main flex gap-1 text-[14px] md:text-[16px] leading-[129%] md:leading-[125%] text-white",children:["Add pet",e.jsx("svg",{className:"w-[18px] h-[18px]",children:e.jsx("use",{href:r+"#icon-plus"})})]})]}),Z=()=>e.jsxs("div",{children:[e.jsx(_,{}),e.jsx(I,{})]}),z=({data:l,setOpenModal:x})=>e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"w-[80px] rounded-[30px] bg-orange-main px-[14px] py-[10px] flex gap-1 items-center text-[14px] leading-[129%] tracking-[-0.02em] text-white",children:["User",e.jsx("svg",{className:"w-[18px] h-[18px]",children:e.jsx("use",{href:r+"#icon-user"})})]}),l.avatar?e.jsx("div",{className:"mb-2 m-auto w-[94px] h-[94px] md:w-[110px] md:h-[110px] rounded-full overflow-hidden",children:e.jsx("img",{src:l.avatar,className:"w-full h-full object-cover",alt:"User avatar"})}):e.jsxs("div",{className:"text-center mb-[28px] md:mb-5",children:[e.jsx("div",{className:"mb-2 m-auto w-[94px] h-[94px] md:w-[110px] md:h-[110px] rounded-full bg-[#fff4df] flex justify-center items-center",children:e.jsx("svg",{className:"w-[40px] h-[40px] md:w-[50px] md:h-[50px]",children:e.jsx("use",{href:r+"#icon-user-02"})})}),e.jsx("span",{onClick:x,className:"text-[12px] md:text-[14px] leading-[133%] md:leading-[129%] tracking-[-0.02em] underline text-black-main cursor-pointer",children:"Upload photo"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-5 font-bold text-[16px] md:text-[18px] md:leading-[133%] text-[#2b2b2a]",children:"My information"}),e.jsxs("ul",{className:"w-full mb-10 flex flex-wrap xl:flex-col gap-[10px] md:gap-[14px] text-[14px] leading-[129%] md:text-[16px] md:leading-[125%]",children:[e.jsx("li",{className:p("w-full md:max-w-[305px] xl:w-full p-3 md:p-4 border rounded-[30px]",l.name?"border-orange-main":"border-border-black"),children:l.name?l.name:"Name"}),e.jsx("li",{className:p("w-full md:max-w-[305px] xl:w-full p-3 md:p-4 border rounded-[30px]",l.email?"border-orange-main":"border-border-black"),children:l.email?l.email:"Email"}),e.jsx("li",{className:p("w-full md:max-w-[305px] xl:w-full p-3 md:p-4 border rounded-[30px]",l.phone?"border-orange-main":"border-border-black"),children:l.phone?l.phone:"+380"})]})]})]}),G=P().shape({name:f().min(2),email:f().matches(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/,"Enter a valid Email"),avatar:f().matches(/^https?:\/\/.*\.(?:png|jpg|jpeg|gif|bmp|webp)$/,{excludeEmptyString:!0,message:"Enter a valid URL"}),phone:f().matches(/^\+38\d{10}$/,{excludeEmptyString:!0,message:"Phone number must be in format +380123456789"})}),T=({open:l,onClose:x,userData:s})=>{const d=g(),[t,m]=i.useState(),{register:c,handleSubmit:N,setValue:o,reset:j,formState:{errors:a}}=A({resolver:R(G)});i.useEffect(()=>(t?o("avatar",t):s.avatar?o("avatar",s.avatar):o("avatar",""),()=>{l||(j(),m(""))}),[t,o,j,l,m,s.avatar]);const v=n=>{const b={};for(let h in n)n[h]!==s[h]&&(b[h]=n[h]);d(C(b))},y=n=>{m(URL.createObjectURL(n.target.files[0]))};return l?e.jsx(M,{open:l,onClose:x,children:e.jsxs("form",{onSubmit:N(v),className:"px-5 py-10 md:p-[50px]",children:[e.jsx("h2",{className:"mb-5 font-bold text-[20px] md:text-[18px] leading-[100%] md:leading-[133%] text-[#2b2b2a]",children:"Edit information"}),e.jsx("div",{className:"mb-3 m-auto w-[80px] h-[80px] md:w-[86px] md:h-[86px] rounded-full bg-[#fff4df] flex justify-center items-center overflow-hidden",children:t||s.avatar?e.jsx("img",{src:t||s.avatar,className:"w-full h-full object-cover",alt:"User avatar"}):e.jsx("svg",{className:"w-[40px] h-[40px] md:w-[50px] md:h-[50px]",children:e.jsx("use",{href:r+"#icon-user-02"})})}),e.jsxs("ul",{className:"w-[295px] md:w-[380px] mb-5 md:mb-10 flex flex-col gap-[10px] md:gap-[14px]",children:[e.jsxs("li",{className:"flex gap-2 md:mb-[6px]",children:[e.jsxs("div",{className:"relative w-[161px] md:w-[226px]",children:[e.jsx("input",{className:p("w-full px-3 py-[13px] pr-10 md:pr-10 md:p-3 border border-border-black rounded-[30px] outline-none text-[12px] md:text-[14px] leading-[133%] md:leading-[129%] tracking-[-0.02em]",s.avatar&&"border-orange-main",a.avatar&&"border-error-color"),type:"text",placeholder:"Avatar URL",...c("avatar",{onChange:n=>m(n.target.value)})}),a.avatar&&e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-[18px] h-[18px] md:w-[22px] md:h-[22px] absolute top-[12px] right-[12px] md:right-[15px] ",children:e.jsx("use",{href:r+"#icon-cross-small"})}),e.jsx("span",{className:"ml-4 text-[10px] md:text-[12px] leading-[120%] md:leading-[117%] text-error-color",children:a.avatar.message})]})]}),e.jsxs("label",{className:"rounded-[30px] h-[36px] md:h-[42px] bg-[#fff4df] p-[10px] md:px-4 md:py-3 flex gap-[5px] items-center justify-center text-[12px] md:text-[14px] leading-[133%] md:leading-[129%] tracking-[-0.02em] text-black-main",htmlFor:"file",children:["Upload photo",e.jsx("svg",{className:"w-[16px] h-[16px] md:w-[18px] md:h-[18px]",children:e.jsx("use",{href:r+"#icon-upload-cloud"})})]}),e.jsx("input",{type:"file",onChange:y,id:"file",className:"hidden"})]}),e.jsxs("li",{className:"relative",children:[e.jsx("input",{className:p("w-full p-3 md:p-4 border border-border-black rounded-[30px] outline-none text-[14px] md:text-[16px] leading-[129%] md:leading-[125%]",s.name&&!a.name&&"border-orange-main",a.name&&"border-error-color"),type:"text",defaultValue:s.name||"Name",...c("name")}),a.name&&e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-[18px] h-[18px] md:w-[22px] md:h-[22px] absolute top-[12px] md:top-[15px] right-[12px] md:right-[19px] placeholder:text-black-main",children:e.jsx("use",{href:r+"#icon-cross-small"})}),e.jsx("span",{className:"ml-4 text-[10px] md:text-[12px] leading-[120%] md:leading-[117%] text-error-color",children:a.name.message})]})]}),e.jsxs("li",{className:"relative",children:[e.jsx("input",{className:p("w-full p-3 md:p-4 border border-border-black rounded-[30px] outline-none text-[14px] md:text-[16px] leading-[129%] md:leading-[125%] placeholder:text-black-main",s.email&&!a.email&&"border-orange-main",a.email&&"border-error-color"),type:"email",defaultValue:s.email,placeholder:"Email",...c("email")}),a.email&&e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-[18px] h-[18px] md:w-[22px] md:h-[22px] absolute top-[12px] md:top-[15px] right-[12px] md:right-[19px] ",children:e.jsx("use",{href:r+"#icon-cross-small"})}),e.jsx("span",{className:"ml-4 text-[10px] md:text-[12px] leading-[120%] md:leading-[117%] text-error-color",children:a.email.message})]})]}),e.jsxs("li",{className:"relative",children:[e.jsx("input",{className:p("w-full p-3 md:p-4 border border-border-black rounded-[30px] outline-none text-[14px] md:text-[16px] leading-[129%] md:leading-[125%] placeholder:text-black-main",s.phone&&"border-orange-main",a.phone&&"border-error-color"),type:"phone",defaultValue:s.phone,placeholder:"+380",...c("phone")}),a.phone&&e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-[18px] h-[18px] md:w-[22px] md:h-[22px] absolute top-[12px] md:top-[15px] right-[12px] md:right-[19px] ",children:e.jsx("use",{href:r+"#icon-cross-small"})}),e.jsx("span",{className:"ml-4 text-[10px] md:text-[12px] leading-[120%] md:leading-[117%] text-error-color",children:a.phone.message})]})]})]}),e.jsx(u,{className:"w-full py-3 px-auto bg-orange-main rounded-[30px] text-white font-bold text-[14px] md:text-[16px] leading-[129%] md:leading-[125%]",children:"Send"})]})}):null},W=()=>{const l=w(F),[x,s]=i.useState(!1),d=g();return i.useEffect(()=>{l.email||d(L())},[d,l]),e.jsxs("section",{className:"relative xl:w-[520px] bg-white rounded-[30px] md:rounded-[60px] p-5 pb-10 md:p-10",children:[e.jsx(B,{setOpenModal:()=>s(!0)}),e.jsx(z,{data:l,setOpenModal:()=>s(!0)}),e.jsx(Z,{}),e.jsx($,{}),e.jsx(T,{open:x,onClose:()=>s(!1),userData:l})]})},q=()=>e.jsxs("div",{className:"flex flex-col gap-10 md:gap-8 xl:flex-row",children:[e.jsx(W,{}),e.jsx(O,{})]});export{q as default};
